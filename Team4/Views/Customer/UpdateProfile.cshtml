@model Team4.Models.updateDetails
@{
    ViewBag.Title = "UpdateProfile";
}

<h2>Update Profile</h2>
@using (Html.BeginForm("GetUpdatedValue", "Customer"))
{
<table >
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Name:</td>
        <td>@Html.TextBoxFor(a => a.Name)</td>
        <td>@Html.ValidationMessageFor(a => a.Name, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Address:</td>
        <td>@Html.TextBoxFor(a => a.Address)</td>
        <td>@Html.ValidationMessageFor(a => a.Address, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>City:</td>
        <td>@Html.TextBoxFor(a => a.City)</td>
        <td>@Html.ValidationMessageFor(a => a.City, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Country:</td>
        <td>
            <div class="col-md-10">
                @Html.DropDownListFor(a => a.Country, new SelectList(ViewBag.CL), "Select Country")
            </div>
        </td>
        <td> @Html.ValidationMessageFor(a => a.Country, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>State:</td>
        <td>
            <div class="col-md-10">
                @Html.DropDownListFor(a => a.State, new SelectList(""), "Select State")
            </div>
        </td>
        <td>@Html.ValidationMessageFor(a => a.State, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Pincode:</td>
        <td>@Html.TextBoxFor(a => a.Pincode)</td>
        <td>@Html.ValidationMessageFor(a => a.Pincode, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Email Address:</td>
        <td>@Html.TextBoxFor(a => a.Email)</td>
        <td>@Html.ValidationMessageFor(a => a.Email, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Gender:</td>
        <td>
            @Html.RadioButtonFor(a => a.Gender, "Male", new { @disabled = "true" })Male
            @Html.RadioButtonFor(a => a.Gender, "Female", new { @disabled = "true" })Female
        </td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Contact no:</td>
        <td>@Html.TextBoxFor(a => a.Contact)</td>
        <td>@Html.ValidationMessageFor(a => a.Contact, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Date of Birth:</td>
        <td>@Html.TextBoxFor(a => a.Dob, new { @disabled = "true" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    <tr>
        <td>Customer Type:</td>
        <td>
            @Html.DropDownListFor(a => a.Ctype, new List<SelectListItem> {
            new SelectListItem{Value="Government Officer",Text="Government Officer"},
            new SelectListItem{Value="Government Employee",Text="Government Employee"},
            new SelectListItem{Value="Private Employee",Text="Private Employee"},
            new SelectListItem{Value="Student",Text="Student"},
            new SelectListItem{Value="Others",Text="Others"}
            }, "Select Customer Type")
        </td>
        <td>@Html.ValidationMessageFor(a => a.Ctype, "", new { @class = "text-danger" })</td>
    </tr>
    <tr><td>&nbsp;</td></tr>
    

    <tr>
        <td></td>
        <td><input type="submit" value="submit"></td>
        <td></td>
    </tr>

</table>
    <h3>
        @if (ViewBag.msg != null)
        {
            @ViewBag.msg
        }
    </h3>
}




<script src="~/Scripts/jquery-3.4.1.min.js"></script>
<script>
    $(document).ready(function () {
        $("#Country").blur(function () {
            //alert($(this).val());
            $.ajax({
                type: "post",
                url: '/User/getStates?Country=' + $(this).val(),
                contentType: "html",
                success: function (response) {
                    $("#State").empty();
                    $("#State").append(response);

                }
            }); //End of Ajax
        });
    });

</script>

